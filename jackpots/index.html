<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Jackpots</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex">
    <meta http-equiv="refresh" content="86400" />
    <!-- 86400 -->
    <!-- <link rel="stylesheet" href="one.css" type="text/css"> -->
    <link rel="stylesheet" href="two.css" type="text/css">
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/6.6.2/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#available-libraries -->
    <!-- <script src="https://www.gstatic.com/firebasejs/6.6.2/firebase-analytics.js"></script> -->
    <script src="https://www.gstatic.com/firebasejs/6.6.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.6.2/firebase-functions.js"></script>

</head>

<body class="page ill-site-page" data-test-id="illi-page-homepage">

    <div class="main responsivegrid mySlides">
        <div class="aem-Grid aem-Grid--12 aem-Grid--default--12   ">

            <div class="responsivegrid aem-GridColumn aem-GridColumn--default--12">
                <div class="aem-Grid aem-Grid--12 aem-Grid--default--12 aem-Grid--tablet--12 aem-Grid--phone--12  padded-container ">
                    <!-- <div class="title aem-GridColumn aem-GridColumn--default--12">
                        <div class="cmp-title ">
                            <h2 class="cmp-title__text">All Games</h2>
                            <div class="cmp-title__subtitle"></div>
                        </div>
                    </div> -->

                    <div class="gamespromo aem-GridColumn aem-GridColumn--default--12">
                        <div class="games-promo card-container">

                            <!-- MEGAMILLIONS -->
                            <div class="card-container__item games-promo__block games-promo__block--play-game megamillions games-promo__block--default games-promo__block--play ">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/MegaMillions-logo.svg" alt="MEGA MILLIONS"
                                        role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span id="megamillions_title"></span>
                                    </div>
                                    <div class="games-promo__prize">
                                        <span id="megamillions_amount" class="games-promo__prize-amount"></span>
                                    </div>
                                    <div id="megamillions_date" class="games-promo__date"></div>
                                </div>
                            </div>

                            <!-- LOTTO -->
                            <div class="card-container__item games-promo__block games-promo__block--play-game lotto games-promo__block--default games-promo__block--play">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/Lotto_logo-orangeR.svg" alt="LOTTO"
                                        role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span id="illinois_lotto_title"></span>
                                    </div>
                                    <div class="games-promo__prize">
                                        <span id="illinois_lotto_amount" class="games-promo__prize-amount"></span>
                                    </div>
                                    <div id="illinois_lotto_date" class="games-promo__date"></div>
                                </div>
                            </div>

                            <!-- POWERBALL -->
                            <div class="card-container__item games-promo__block games-promo__block--play-game powerball games-promo__block--default games-promo__block--play ">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/Powerball-logo.svg" alt="POWERBALL"
                                        role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span id="powerball_title"></span>
                                    </div>
                                    <div class="games-promo__prize">
                                        <span id="powerball_amount" class="games-promo__prize-amount"></span>
                                    </div>
                                    <div id="powerball_date" class="games-promo__date"></div>
                                </div>
                            </div>

                            <!-- EUROMILLIONS -->
                            <div class="card-container__item games-promo__block games-promo__block--play-game luckydaylotto games-promo__block--default games-promo__block--subscribe ">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/euromillions_left.svg"
                                        alt="LUCKY DAY LOTTO" role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span id="euromillions_title"></span>
                                    </div>
                                    <div class="games-promo__prize">
                                        <span id="euromillions_amount" class="games-promo__prize-amount"></span>
                                    </div>
                                    <div id="euromillions_date" class="games-promo__date">
                                    </div>
                                </div>
                            </div>

                            <!-- UK LOTTO -->
                            <div class="card-container__item games-promo__block games-promo__block--play-game game1 games-promo__block--default games-promo__block--subscribe ">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/lotto_left.svg" alt="PICK 3"
                                        role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span id="uk_lotto_title"></span>
                                    </div>
                                    <div class="games-promo__prize">
                                        <span id="uk_lotto_amount" class="games-promo__prize-amount"></span>
                                    </div>
                                    <div id="uk_lotto_date" class="games-promo__date">
                                    </div>
                                </div>
                            </div>

                            <!-- IRELAND LOTTO 180deg,#009813c9,#009047 30%,#46bf28 70.05%)-->
                            <div class="card-container__item games-promo__block games-promo__block--play-game game2 games-promo__block--default games-promo__block--subscribe ">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/lotto-logo-wide.svg" alt="PICK 4"
                                        role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span id="ir_lotto_title"></span>
                                    </div>
                                    <div class="games-promo__prize">
                                        <span id="ir_lotto_amount" class="games-promo__prize-amount"></span>
                                    </div>
                                    <div id="ir_lotto_date" class="games-promo__date">
                                    </div>
                                </div>
                            </div>

                            <!-- SWISS LOTTO -->
                            <div class="card-container__item games-promo__block games-promo__block--play-game game3 games-promo__block--default games-promo__block--subscribe ">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/swiss_loto_logo.png" alt="PICK 4"
                                        role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span id="swiss_lotto_title"></span>
                                    </div>
                                    <div class="games-promo__prize">
                                        <span id="swiss_lotto_amount" class="games-promo__prize-amount"></span>
                                    </div>
                                    <div id="swiss_lotto_date" class="games-promo__date">
                                    </div>
                                </div>
                            </div>

                            <!-- NATURAL STATE -->
                            <div class="card-container__item games-promo__block games-promo__block--play-game game4 games-promo__block--default games-promo__block--subscribe ">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/nsj.png" alt="PICK 4" role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span id="ark_lotto_title"></span>
                                    </div>
                                    <div class="games-promo__prize">
                                        <span id="ark_lotto_amount" class="games-promo__prize-amount"></span>
                                    </div>
                                    <div id="ark_lotto_date" class="games-promo__date">
                                    </div>
                                </div>
                            </div>

                            <!-- NEXT CUSTOMER -->
                            <div class="card-container__item games-promo__block games-promo__block--play-game pick4 games-promo__block--default games-promo__block--subscribe ">
                                <div class="games-promo__logo-container">
                                    <img class="games-promo__logo" src="images/handshake3.png" alt="new customer" role="img" />
                                </div>
                                <!-- <div class="games-promo__splitter"></div> -->
                                <div class="games-promo__content-container">
                                    <div class="games-promo__text">
                                        <span>Next customer coming soon</span>
                                    </div>
                                    
                                </div>
                            </div>
                            <!-- end of blocks -->
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- footer -->
    <div class="cmp-footer__bottom-nav-bar aem-Grid aem-Grid--12 aem-Grid--phone--12">
        <div class="ill-cont-copyright" data-test-id="footer-copyright">
            <div class="container">
                
                <p class="copy-info"></p> 
                <ul class="cmp-footer__copy-links-list ill-copy-links">
                    <li class="cmp-footer__copy-links-list-item">
                        <p class="ill-language-selector">INTERNAL USE ONLY</p>
                    </li>
                
                    <li class="cmp-footer__copy-links-list-item">
                        <p id="last_updated_element" class="ill-language-selector">N\A</p>
                    </li>

                    <li class="cmp-footer__copy-links-list-item">
                        <p class="ill-language-selector">© Camelot Lottery Solutions 2019</p>
                    </li>

                </ul>
            </div>
        </div>
    </div>
    <div class="footer_conf configuration parbase">

    </div>
    <!-- footer end -->
    <!-- SCRIPTS -->
    <script>
        var myIndex = 0;
        carousel();

        var firebaseConfig = {
            apiKey: "AIzaSyDHugfPJl9toU3ICPM6IB_h6qkYcb6u86s",
            authDomain: "jackpots-58b44.firebaseapp.com",
            databaseURL: "https://jackpots-58b44.firebaseio.com",
            projectId: "jackpots-58b44",
            storageBucket: "jackpots-58b44.appspot.com",
            messagingSenderId: "209430803516",
            appId: "1:209430803516:web:8dae4fb91bd952ce56bf39",
            measurementId: "G-1M17Y9BLF6"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        //.analytics();

        var database = firebase.firestore();

        template('online_jackpots', 'illinois_megamillions', 'megamillions_title', 'US' , 'megamillions_amount', 'megamillions_date');
        template('online_jackpots', 'illinois_lotto', 'illinois_lotto_title', 'IL', 'illinois_lotto_amount', 'illinois_lotto_date');
        template('online_jackpots', 'illinois_powerball', 'powerball_title', 'US' , 'powerball_amount', 'powerball_date');
        template('online_jackpots', 'uk_euromillions', 'euromillions_title', 'EU' , 'euromillions_amount', 'euromillions_date');
        template('online_jackpots', 'uk_lotto', 'uk_lotto_title', 'UK' , "uk_lotto_amount", 'uk_lotto_date');
        template('online_jackpots', 'ireland_lotto', 'ir_lotto_title', 'IRL' , 'ir_lotto_amount', 'ir_lotto_date');
        template('online_jackpots', 'swiss_lotto', 'swiss_lotto_title', '', 'swiss_lotto_amount', 'swiss_lotto_date');
        template('online_jackpots', 'arkansas_natural_state', 'ark_lotto_title', 'ARK' , 'ark_lotto_amount', 'ark_lotto_date');

        updateTime('properties', 'last_updated', 'last_updated_element');


        function updateTime(dbCollection, dbDocument, element) {
            var documentRef = database.collection(dbCollection).doc(dbDocument);

            documentRef.onSnapshot(function (doc) {
                if (doc.exists) {
                    var documentData = doc.data();
                    var dateElement = document.getElementById(element);
                    
                    dateElement.innerHTML = 'LAST UPDATED: '+ documentData.lastUpdated;
                    
                    console.log("Document data:", doc.data());
                } else {
                    // doc.data() will be undefined in this case
                    console.log("No such document!");
                }
            }, function (error) {
                console.log("Error getting document:", error);
            });
        }


        function template(dbCollection, dbDocument, title_id, addedText, amount_id, date_id) {
            var documentRef = database.collection(dbCollection).doc(dbDocument);

            documentRef.onSnapshot(function (doc) {
                if (doc.exists) {
                    var documentData = doc.data();
                    var titleElement = document.getElementById(title_id);
                    var amountElement = document.getElementById(amount_id);
                    var dateElement = document.getElementById(date_id);
                    titleElement.innerHTML = addedText + ' ' + documentData.gameName;
                    amountElement.innerHTML = '<strong>' + documentData.prize + '<strong>';
                    dateElement.innerHTML = documentData.date;
                    console.log("Document data:", doc.data());
                } else {
                    // doc.data() will be undefined in this case
                    console.log("No such document!");
                }
            }, function (error) {
                console.log("Error getting document:", error);
            });
        }

        

        function carousel() {
          var i;
          var x = document.getElementsByClassName("mySlides");
          for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
          }
          myIndex++;
          if (myIndex > x.length) { myIndex = 1 }
          x[myIndex - 1].style.display = "block";
          setTimeout(carousel, 8000); // Change image every 2 seconds
        }

        function getUrlVars() {
            var vars = {};
            var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
                vars[key] = value;
            });
            return vars;
        }

        // const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        // const currentTime = moment().tz(timezone).format();
        // console.log(currentTime);
        // console.log(getUrlVars());
    </script>

</body>

</html>